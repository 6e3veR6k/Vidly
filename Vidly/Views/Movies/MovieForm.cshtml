@using Vidly.Models
@model Vidly.ViewModels.MovieFormViewModel

@{
	ViewBag.Title = "MovieForm";
	Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="card m-auto" style="width: 50%;">
	<div class="card-header">@ViewBag.Title</div>
	<div class="card-body">
		@using (Html.BeginForm("Save", "Movies"))
		{
			<div class="form-group m-1 row">
				@Html.LabelFor(m => m.Movie.OriginalTitle, new { @class = "col-sm-3 text-muted text-left p-0 pt-1" })
				@Html.TextBoxFor(m => m.Movie.OriginalTitle, new { @class = "form-group col-sm-9 p-1" })
			</div>
			<div class="form-group m-1 row">
				@Html.LabelFor(m => m.Movie.ImgPath, new { @class = "col-sm-3 text-muted text-left p-0 pt-1" })
				@Html.TextBoxFor(m => m.Movie.ImgPath, new { @class = "form-group col-sm-9 p-1" })
			</div>
			<div class="form-group m-1 row">
				@Html.LabelFor(m => m.Movie.ReleaseDate, new { @class = "col-sm-3 text-muted text-left p-0 pt-1" })
				@Html.TextBoxFor(m => m.Movie.ReleaseDate, "{0:dd.MM.yyyy}", new { @class = "form-group col-sm-9 p-1" })
			</div>
			<div class="form-group m-1 row">
				@Html.LabelFor(m => m.Movie.Director, new { @class = "col-sm-3 text-muted text-left p-0 pt-1" })
				@Html.TextBoxFor(m => m.Movie.Director, new { @class = "form-group col-sm-9 p-1" })
			</div>
			<div class="form-group m-1 row">
				@Html.LabelFor(m => m.Movie.Description, new { @class = "col-sm-3 text-muted text-left p-0 pt-1" })
				@Html.TextAreaFor(m => m.Movie.Description, new { @class = "form-group col-sm-9 p-1" })
			</div>
			<div class="form-group m-1 row">
				@Html.LabelFor(m => m.Movie.NumberInStock, new { @class = "col-sm-3 text-muted text-left p-0 pt-1" })
				@Html.EditorFor(m => m.Movie.NumberInStock, new { @class = "form-group col-sm-9 p-2" })
			</div>
			<div class="form-group m-1 row mb-4 mt-4">
				@if(Model.Movie == null)
				{
					@Html.DropDownListFor(m => m.SelectedMovieGenres, new MultiSelectList(Model.Genres, "Id", "Type"), new { @class = "form-control form-control-sm", multiple = "multiple" });
				}
				else
				{
					@Html.DropDownListFor(m => m.SelectedMovieGenres, new MultiSelectList(Model.Genres, "Id", "Type", Model.Movie.Genres.Select(m => m.Id)), new { @class = "form-control form-control-sm", multiple = "multiple" });
				}

				</div>
			<div class="form-group m-1 row mb-4">
				@Html.DropDownListFor(m => m.Movie.RatingId, new SelectList(Model.Ratings, "Id", "Symbol"), "Rating", new { @class = "form-control form-control-sm" })
			</div>
			@Html.HiddenFor(m => m.Movie.Id)
			<button type="submit" class="btn btn-outline-success btn-sm" style="width: 200px;">Save</button>
		}
	</div>
</div>






